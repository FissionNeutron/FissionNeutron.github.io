[{"content":"多玩一会 二月一开头就给我一个大惊喜，我期待已久的《死亡搁浅 2》总算是有了新预告片。这新的预告片确实很有小岛的味道，看着放出了很多内容，实际全是谜语人。预告到底讲了什么，还得进游戏好好遨游一番才能知道。2025 年 PlayStation 平台发售，PC 平台应该迟不了多久，我真是太期待了。\n从一月到二月，我一共花了快 160 小时，把《赛博朋克 2077》和它的 DLC 往日之影给通完了，达成了全成就。不得不说，往日之影 DLC 做的可能要比本体更有意思，任务和委托更有深度和内涵。DLC 主线的设计给有一种特工谍战片的味道，个人感觉比其本体的主线设计做得更好。我感觉 CDPR 属于是放开了，某种程度上也算是开发者的自我修养罢。\n过年 总算是过年了，一切都好起来了。我最担心会挂掉的课也过了，总算能睡个安稳觉了。大鱼大肉，大吃特吃。什么，要减肥？过完年再说罢，学期里自然会瘦下来的。\n今年过年我算是我人生中第一次被亲戚催婚。有一位亲戚特别热情，还给我看某位姑娘的照片，要推给我相亲，最后算是给我婉拒了。整段对话搞得特别尴尬，我也是全程扶额。我倒也不是不想找对象，就是不喜欢把这种情感需求具体地暴露出来，再加上我对相亲这事有点抗拒，让我陷入了这种说不出话的感觉。哎，这种事情还是随缘罢。\n其他的，除了简单出门拍了一点照片，似乎就没什么了。总觉得现在过年，年味是越来越淡了，挺遗憾的。\n收收心 过完了年就开学了，又要开始忙起来了。上课，下实验室，学仿真，日程表上排得虽然不是很满，但通常是干完这些活就不想动了，只想瘫在床上，啥事都不干。别的我也不多奢求什么，只求别白忙活就行。\n总之，二月都挺好的，就写到这里罢。希望三月也能顺利。\n","date":"2024-02-29T22:12:40+08:00","image":"https://fissionneutron.com/post/fe7d70f4/img/cover.png","permalink":"https://fissionneutron.com/post/fe7d70f4/","title":"2024 年 2 月记 | 过完春节，该收收心了"},{"content":"起因 我手头有两台 Windows 设备，需要在它们之间同步文献。我使用 Zotero 作为文献管理软件，但是它的免费云同步空间只有 300 MB，可能不太够用，便想利用自己的 Debian 服务器通过 WebDAV 的方法进行同步。\n需要注意的是，WebDAV 这种同步方式不能对笔记、批注等数据进行同步。这些数据只能通过 Zotero 自己的同步服务进行同步。WebDAV 可以对文献的 PDF、网页等附件进行同步。\n搭建 WebDAV 服务器 在这里，我选择使用 Nginx 作为 Web 服务器。Nginx 的安装与基本配置在此不做展示。在接下来的 WebDAV 配置中，还需要使用 nginx-dav-ext-module 组件，使用以下命令在 Debian 服务器上安装该组件。\n1 sudo apt-get install libnginx-mod-http-dav-ext 服务器上安装了一块用于存储文件的大容量硬盘，其挂载与 /mnt/storage。创建 WebDAV 存储文件的目录，并将权限移交于 www-data 用户。\n1 2 sudo mkdir /mnt/storage/webdav sudo chown -R www-data:www-data /mnt/storage/webdav 我使用二级域名的方案进行配置，以 webdav.server.lan 作为 WebDAV 服务器域名。利用以下命令创建并编辑配置文件。\n1 sudo vi /etc/nginx/conf.d/webdav.conf 在配置文件中粘贴以下内容，并根据具体情况进行调整。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 server { listen 80; server_name webdav.server.lan; charset utf-8; root /mnt/storage/webdav; auth_basic realm_name; auth_basic_user_file /etc/nginx/conf.d/.webdav_passwd.list; autoindex on; dav_methods PUT DELETE MKCOL COPY MOVE; dav_ext_methods PROPFIND OPTIONS; dav_access user:rw group:rw all:r; create_full_put_path on; client_max_body_size 1024m; } 我使用的是内网域名，不方便配置 SSL，因此使用 HTTP 协议。编辑 server_name 字段以调整服务器要绑定的域名；编辑 root 字段调整 WebDAV 存储文件的目录；编辑 client_max_body_size 字段调整文件大小限制。在这里我还启用了登陆验证，编辑 auth_basic_user_file 字段调整用户登录信息存储位置。使用以下命令设置第一个用户与其登录密码。下面命令中的 username 可替换为所需的用户名，注意区分大小写。\n1 2 sudo echo -n \u0026#39;username:\u0026#39; | tee -a /etc/nginx/conf.d/.webdav_passwd.list sudo openssl passwd -apr1 | tee -a /etc/nginx/conf.d/.webdav_passwd.list 使用以下命令测试配置文件是否有效。\n1 sudo nginx -t 完成测试且无报错，即可重启 Nginx 服务。\n1 sudo systemctl restart nginx.service 重启服务后在 Windows 设备上打开浏览器，进入 webdav.server.lan 便可看到 WebDAV 网页。\nZotero 同步配置 在 Windows 设备上打开 Zotero 软件，在菜单栏中点击“编辑”，在下拉菜单中点击“首选项”，随后在弹出的“Zotero 首选项”对话框中点击“同步”选项卡。如若尚未注册过 Zotero 账号，则需要注册一个。登录账号后，需要将同步方式从 Zotero 变更为 WebDAV，选择 HTTP 协议，输入域名、用户名、密码。\n点击“验证服务器”按钮，因为此时 WebDAV 存储文件的目录为空，第一次点击按钮会提示自动创建 zotero 目录，再次点击按钮便会提示设定成功。\n完成配置后点击“OK”按钮，并点击 Zotero 窗口右上角的绿色同步按钮进行同步。刷新浏览器中的 WebDAV 网页，可以看到新增了一个 zotero 目录，进入目录后若出现同步文件，则完成同步配置。\n","date":"2024-02-18T22:47:27+08:00","image":"https://fissionneutron.com/post/9b8662dd/img/cover.png","permalink":"https://fissionneutron.com/post/9b8662dd/","title":"利用 WebDAV 同步 Zotero 的文献"},{"content":"起因 我手头有两台 Windows 设备，经常需要在它们之间同步 Obsidian 库。平时用 SMB 协议拷来拷去实在是不太方便，我便想利用自己的 Debian 服务器，通过 Git 实现多设备同步。\n服务端准备 首先，要在服务器上安装 Git。通过 SSH 连接到服务器，并使用 apt 命令进行安装。\n1 sudo apt-get install git 为了方便管理，需要创建一个用户组与用户来运行 Git。先创建一个名叫 git 的用户组，再在该用户组中创建一个名叫 git 的用户。注意，不要为 git 用户设置口令。\n1 2 sudo groupadd git sudo useradd git -g git 出于安全考虑，需要限制 git 用户仅可通过 SSH 使用 Git。通过以下命令打开 /etc/passwd 文件。\n1 sudo vi /etc/passwd 找到关于 git 用户的行，将末尾最后一个冒号后的默认 Shell 字段替换为 /usr/bin/git-shell。该行修改后的形式应与下方代码块中所示的类似。\n1 git:x:1001:1001::/home/git:/usr/bin/git-shell 至此，服务端基本准备完成。\n密钥 在 Windows 设备上，打开终端，生成 RSA 公钥与私钥。\n1 2 cd ~\\.ssh ssh-keygen -t rsa 当提示输入保存密钥的文件时，不建议使用默认文件名 id_rsa，建议自定义一个方便辨认的文件名，输入后按下回车。在这里，我以 id_rsa_server_git 为文件名保存密钥。随后出现的提示，可以根据需要自行配置，如不需要配置，皆按回车即可，完成密钥生成。此时，在 ~\\.ssh 目录中会生成两个文件，一个是名为 id_rsa_server_git 的私钥文件；另一个则是名为 id_rsa_server_git.pub 的公钥文件。\n在 ~\\.ssh 目录中打开 config 文件。如果没有 config 文件，创建一个即可。在该文件中新增以下内容，其中需要将 HostName 字段中的 server.lan 修改为服务端的地址或域名， Host 字段中的 Server-git 可以进行自定义。\n1 2 3 4 5 Host Server-git HostName server.lan User git PreferredAuthentications publickey IdentityFile ~/.ssh/id_rsa_server_git 在管理员终端中使用如下命令启动 OpenSSH Authentication Agent 服务，并将其设置为开机自启动。\n1 2 Start-Service ssh-agent Set-Service ssh-agent -StartupType Automatic 为了在使用 Git 时自动运行 ssh-agent，参考 Github 文档中提供的方法，创建 ~/.profile 文件，并将以下内容粘贴其中。\n1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 env=~/.ssh/agent.env agent_load_env () { test -f \u0026#34;$env\u0026#34; \u0026amp;\u0026amp; . \u0026#34;$env\u0026#34; \u0026gt;| /dev/null ; } agent_start () { (umask 077; ssh-agent \u0026gt;| \u0026#34;$env\u0026#34;) . \u0026#34;$env\u0026#34; \u0026gt;| /dev/null ; } agent_load_env # agent_run_state: 0=agent running w/ key; 1=agent w/o key; 2=agent not running agent_run_state=$(ssh-add -l \u0026gt;| /dev/null 2\u0026gt;\u0026amp;1; echo $?) if [ ! \u0026#34;$SSH_AUTH_SOCK\u0026#34; ] || [ $agent_run_state = 2 ]; then agent_start ssh-add elif [ \u0026#34;$SSH_AUTH_SOCK\u0026#34; ] \u0026amp;\u0026amp; [ $agent_run_state = 1 ]; then ssh-add fi unset env 在终端中使用以下命令设置用户环境变量。设置完成后需重新启动系统。\n1 [System.Environment]::SetEnvironmentVariable(\u0026#39;GIT-SSH\u0026#39;,\u0026#39;C:\\Windows\\System32\\OpenSSH\\ssh.exe\u0026#39;,[System.EnvironmentVariableTarget]::User) 打开之前生成的公钥 id_rsa_server_git.pub 文件，将其中的内容全部添加到服务端的 /home/git/.ssh/authorized_keys 文件中，一个公钥占一行。此时，在 Windows 设备的终端中使用以下命令确认配置是否正确。\n1 ssh git@server.lan 若没有提示需要输入口令，且弹出如下提示并断开连接，即配置成功。\n1 2 3 fatal: Interactive git shell is not enabled. hint: ~/git-shell-commands should exist and have read and execute access. Connection to server.lan closed. 在所有需要同步的 Windows 设备上，均需要完成本节中的操作。\n初始化 Git 仓库 在服务端的合适位置创建 Git 裸仓库。在这里我在 git 用户的目录下创建了 git_repos 目录用以存放仓库。\n1 2 sudo mkdir /home/git/git_repos sudo git init --bare /home/git/git_repos/obsidian_vault.git 将 /home/git/git_repos 目录内的所有文件与目录之所有者移交给 git 用户。\n1 sudo chown -R git:git /home/git/git_repos 在某一台需要同步的 Windows 设备上克隆该仓库到设备。在合适的位置启动终端，并使用以下命令进行克隆。\n1 git clone git@server.lan:/home/git/git_repos/obsidian_vault.git 此时，在对应目录中会出现 obsidian_vault 目录，进入该目录，创建 .gitignore 文件，告诉 Git 在提交时要忽略哪些文件和目录。.gitignore 文件中的内容可以按需更改，下面仅作为示例。\n1 2 3 4 5 6 .obsidian/ #.obsidian/plugins #.obsidian/workspace.json #.obsidian/workspace-mobile.json .trash/ .DS_Store 另外，为了避免 CRLF 与 LF 的问题，还需创建 .gitattributes 文件。同样，该文件的内容可以按需更改，下面仅作为示例。\n1 2 3 4 5 6 7 8 9 10 11 12 13 * text=auto *.md text *.txt text *.js text *.json text *.html text *.css text *.png binary *.jpg binary *.gif binary *.bmp binary 至此，便可以将已有的 Obsidian 库中的所有内容复制到 obsidian_vault 目录，并在该目录下利用终端使用以下命令进行暂存、提交、推送。\n1 2 3 git add . git commit git push 需要注意的是，在第一次推送完成后，需要在所有未克隆过远程仓库的 Windows 设备上进行一次克隆。\n同步 Obsidian 库 启动 Obsidian 并打开 obsidian_vault 目录。在设置中的第三方插件下关闭安全模式，随后浏览社区插件市场，搜索并安装 Git 插件，并在安装的插件中启用它。此时，插件便已经可以读取到 Git 仓库的信息。打开命令面板，搜索 Git: Open source control view 并点击相应条目，便可在右侧的侧边栏中进行暂存、提交、推送、拉取等操作，以实现同步。插件的具体使用方法与配置详见 Git 插件的 GitHub 页面与文档，在此不多赘述。至此，已完成使用 Git 在不同设备间同步 Obsidian 库的基本配置。\n","date":"2024-02-04T20:27:16+08:00","image":"https://fissionneutron.com/post/e532958c/img/cover.png","permalink":"https://fissionneutron.com/post/e532958c/","title":"使用 Git 在不同设备间同步 Obsidian 库"},{"content":"一些想法 说实话，我这人不太爱写周记之类的东西。还记得上中学的时候，语文老师经常会布置周记作业。每每面对这种作业，我总会感到如临大敌，对着空白的作文本犯愁。我很好奇，中学生的周记能写出点什么？每天上着差不多的课，各种作业填满了不多的空余时间，周末不是写作业就是奔补习班，似乎每一周都没有什么差别。\n时至今日，我读完了本科，读到了研究生，我依旧觉得写周记是一件挺痛苦的事情，每周都忙忙碌碌，但又不知道自己到底在忙些什么，觉得有些茫然。不过，又恰恰是这种茫然，催生了我写周期性记录的念头，希望通过写作的方式排解掉一些负面情绪，让自己快乐一点。日记和周记，我觉得还是太频繁了一些，我不想折磨我自己，所以我选择了月记这种形式。希望自己能一直写下去罢。\n补觉 在折磨人的考试周之后，就是期待已久的假期了。我可真的太需要这个假期。回到家里第一件事就是睡，大睡特睡。我是属于偏夜猫子类型的人，比较喜欢夜里没人打扰我，静悄悄的那种氛围。我经常容易洗漱完，在电脑前一坐，一下干到半夜两三点。等回过神来一看表，完蛋，没多少时间能睡了。这也就导致了我学期里奇缺觉，包里基本上一直会带小包装的速溶黑咖啡，以防自己昏睡过去。不管怎么说，总算是熬到假期了，能补上觉，总是幸福的。\n游戏 乘着 Steam 冬季促销，又新买了几个游戏。经同学推荐买了《无敌号》，看风评不错买了《巴别塔圣歌》、《赛博朋克：2077》、《极乐迪斯科》。《无敌号》算是打通关了，画风我很喜欢，随着进度解锁漫画的设计很有创意，游戏的内核也很有深度，但是它的 FOV 和忽快忽慢的移动速度真的让我头好晕，这一点让我失去了做全成就的动力，希望后续能通过更新解决晕动的问题罢。《巴别塔圣歌》这游戏让我耳目一新，游戏设计非常独特，它讲述的故事并不复杂，但很动人。《赛博朋克：2077》和《极乐迪斯科》我都还没有打完，不太好评价。除了上面这些，我还顺手通关了《心灵杀手 2》的“终稿”模式，我真是越玩越爱这个游戏，现在就等它的 DLC 了。\n多学点 自己叫唤了好多年，要从 Cinema 4D 转到 Blender 去，结果好多年过去了，啥也没学会，光叫唤了。这次算是沉下心来跟着教程好好学了一学。Blender Guru 的教程很棒，讲得很细，学起来难度尚可，成品也很不错。难度最大的应该是那个沙发了，不但要用到物理模拟，还要雕刻修型，UV 贴图也有些麻烦，做起来挺折磨的，不过效果好就好。节点系统是真的好用，真后悔没有早些接触这快内容。\n最后 2024 年的第一个月差不多就是这样了，除了对期末成绩的焦虑外，心情还算愉快，挺好。还是希望自己能快乐一点罢，别一天到晚苦大仇深的样子。快过年了，也希望大家都开开心心的。\n","date":"2024-01-31T18:50:31+08:00","image":"https://fissionneutron.com/post/6cfcfdce/img/cover.png","permalink":"https://fissionneutron.com/post/6cfcfdce/","title":"2024 年 1 月记 | 新的一年，还是快乐一点罢"},{"content":"四探针测量技术，又称为开尔文测量法，是一种电阻抗测量技术，它使用单独的一对电流和电压探针，测量结果比更简单和更常见的两探针测量法更精确。四探针常被用于测量半导体薄膜的电阻率与方块电阻。\n基本方法 如图 1 所示，四根等间距探针（1、2、3、4）竖直的排成一排，同时施加适当的压力使其与被测样品表面形成欧姆连接，用恒流源给两个外探针（1、4）通以小电流，精准电压表测量内侧两探针（2、3）间电压。根据测量方式和样品的尺寸不同，选取不同的公式计算样品的电阻、电阻率与方块电阻。\n样品的测量 在本节中，样品根据其厚度，被简化为大厚度半无穷大样品与半无穷大薄膜样品两种模型。在测量不同厚度的样品时，应使用其对应的测量模型。\n大厚度半无穷大样品 电阻 $R$ 与电阻率 $\\rho$ 间的关系为：\n$$ R = \\frac{\\rho L}{S} $$\n式中，$L$ 为材料的长度，$S$ 为面积。四探针对半导体表面的接触均为点接触，所以对半无穷大样品，电流 $I$ 是以探针尖为圆心呈径向放射状流入体内的，因而电流在体内所形成的等位面为半球面，如图 2 所示。\n于是，样品电阻率为 $\\rho$，半径为 $r$，间距为 $\\mathrm{d}r$ 的两个半球等位面间的电阻为：\n$$\\mathrm{d}R = \\frac{\\rho}{2\\uppi r^2}\\ \\mathrm{d}r$$\n它们之间的电位差为：\n$$\\mathrm{d}V = I\\ \\mathrm{d}R = \\frac{\\rho I}{2\\uppi r^2}\\ \\mathrm{d}r$$\n考虑样品为半无限大，在 $r\\rightarrow\\infty$ 处的电位为 0，所以流经探针 1 的电流 $I$ 在 $r$ 点形成的电位为：\n$$(V_r)_1 = \\int_{r}^{\\infty} \\frac{\\rho I}{2\\uppi r^2} ,\\mathrm{d}r = \\frac{\\rho I}{2\\uppi r}$$\n流经探针 1 的电流在 2、3 两探针间形成的电位差为：\n$$(V_{23})_1 = \\frac{\\rho I}{2\\uppi}\\left(\\frac{1}{r_{12}}-\\frac{1}{r_{13}}\\right)$$\n流经探针 4 的电流与流经探针 1 的电流方向相反，所以流经探针 4 的电流 $I$ 在探针 2、3 之间引起的电位差为：\n$$(V_{23})_4 = -\\frac{\\rho I}{2\\uppi}\\left(\\frac{1}{r_{42}}-\\frac{1}{r_{43}}\\right)$$\n于是流经探针 1、4 之间的电流在探针 2、3 之间形成的电位差为：\n$$V_{23} = \\frac{\\rho I}{2\\uppi}\\left(\\frac{1}{r_{12}}-\\frac{1}{r_{13}}-\\frac{1}{r_{42}}+\\frac{1}{r_{43}}\\right)$$\n由此可得样品的电阻率为：\n$$\\rho = \\frac{2\\uppi V_{23}}{I}\\left(\\frac{1}{r_{12}}-\\frac{1}{r_{13}}-\\frac{1}{r_{42}}+\\frac{1}{r_{43}}\\right)^{-1}$$\n此式就是四探针法测半无限大样品电阻率的普遍公式。在采用四探针测量电阻率时通常使用图等间距直线形结构，假设直线四探针的探针间距均为 $s$，则对于直线四探针有：\n$$\\rho = \\frac{2\\uppi s V_{23}}{I} = \\frac{CV_{23}}{I}$$\n式中，$C=2\\uppi s$ 为探针系数。需要注意的是，此式只适用于厚度很大（样品厚度 $t \u0026gt; 4s$ ）的半无限大体材料。由于块状和棒状样品外形尺寸（ $t \u0026gt; 4 \\ \\mathrm{mm}$ ）与探针间距比较，合乎于半无限大的边界条件，或者当探头的任一探针到样品边缘的最近距离不小于 $4s$ 时，测量区的电阻率值可以直接由上式得出。当样品厚度和直径为有限大时，需要乘上修正因子。根据样品厚度 $t$ 和直径 $d$ 修正后的体电阻率为：\n$$\\rho = F_1\\left(\\frac{t}{s}\\right) \\cdot F_2\\left(\\frac{d}{s}\\right) \\cdot \\frac{C V_{23}}{I}$$\n式中，$F_1\\left(\\frac{t}{s}\\right)$ 为厚度修正因子，$F_2\\left(\\frac{d}{s}\\right)$ 为样品边缘与测试位置修正因子，这两个因子可以通过查表得到。\n半无穷大薄膜样品 半无限大薄膜样品上探针电流的分布及等势面如图 3 所示。\n当样品厚度 $t \\ll s$ 时，可以将等电位面近似看成是一个圆柱面，高为 $t$，圆柱底面半径为 $r$，则等电位面的面积为：\n$$A = 2\\uppi r t$$\n样品电阻率为 $\\rho$，半径为 $r$，间距为 $\\mathrm{d}r$ 的两个半球等位面间的电阻为：\n$$\\mathrm{d}R = \\frac{\\rho}{A}\\ \\mathrm{d}r$$\n它们之间的电位差为：\n$$\\mathrm{d}V = I\\ \\mathrm{d}R = \\frac{\\rho I}{A}\\ \\mathrm{d}r$$\n探针 1 的电流在 2、3 两探针间形成的电位差为：\n$$(V_{23})_1 = \\frac{\\rho I}{2\\uppi t} \\cdot \\ln \\frac{r_{13}}{r_{12}} = \\frac{\\rho I}{2\\uppi t} \\cdot \\ln 2$$\n探针 4 的电流 $I$ 在探针 2、3 之间引起的电位差为：\n$$(V_{23})_4 = -\\frac{\\rho I}{2\\uppi t} \\cdot \\ln \\frac{1}{2}$$\n于是探针 2、3 之间形成的总电位差为\n$$V_{23} = \\frac{\\rho I}{\\uppi t} \\cdot \\ln 2$$\n可得电阻率为：\n$$\\rho = \\frac{\\uppi t }{\\ln 2} \\cdot \\frac{V_{23}}{I}$$\n方块电阻是一个正方形的薄膜导电材料边到边之间的电阻。它的定义式为：\n$$R_\\Box = \\frac{\\rho}{t} \\tag{1}$$ 方块电阻几何变量定义如图 4 所示：\n方块电阻与电阻的关系式为：\n$$R = R_\\Box \\cdot \\frac{L_1}{L_2}$$\n式中，$L_1$ 应与电流方向平行，$L_2$ 应与 $L_1$ 垂直。 由式 (1) 可得半无限大薄膜样品的方块电阻为：\n$$R_\\Box = \\frac{\\uppi}{\\ln 2} \\cdot \\frac{V_{23}}{I} = k \\cdot \\frac{V_{23}}{I}$$\n式中，系数 $k=\\uppi/\\ln 2$。方块电阻的常用单位为欧姆每方，写作 $\\Omega/\\Box$ 或 $\\Omega/\\mathrm{sq}$。方块电阻有一个特性，即任意大小的正方形边到边的电阻都是一样的，方块电阻仅与导电膜的厚度和电阻率有关。需要注意的是，上式只适用于样品厚度非常薄（ $t \\ll s$ ）的半无限大二维（薄膜）材料。当样品厚度 $t$ 与 $s$ 相当或者直径 $d$ 为有限大时，需要将系数 $k$ 替换为厚度修正因子 $k_1\\left(\\frac{t}{s}\\right)$ 与直径修正因子 $k_2\\left(\\frac{d}{s}\\right)$ 的乘积进行修正，即：\n$$R_\\Box = k_1\\left(\\frac{t}{s}\\right) \\cdot k_2\\left(\\frac{d}{s}\\right) \\cdot \\frac{V_{23}}{I}$$\n薄片样品（ $t ≤ 4 \\ \\mathrm{mm}$ ）因为其厚度与探针间距比较不能忽略，测量时要提供样品的修正因子，可以通过查表得到。利用上式与式 (1) ，结合测量结果，便可求得样品的方块电阻与电阻率。\n参考文献 本文所引用的内容未能在文中逐一标注，敬请谅解。本文内容参考了以下文献：\n[1] 刘诺,\u0026#32;任敏,\u0026#32;钟志亲,\u0026#32;等.\u0026#32; 半导体物理与器件实验教程[M].\u0026#32;北京:\u0026#32;科学出版社,\u0026#32;2015:\u0026#32;70-75. ","date":"2022-08-30T00:00:00Z","image":"https://fissionneutron.com/post/a54c5f4f/img/cover.png","permalink":"https://fissionneutron.com/post/a54c5f4f/","title":"四探针的基本原理"},{"content":"核磁共振，指的是磁矩不为零的原子核在恒定磁场中，由射频电磁场引起塞曼能级之间的共振跃迁现象。1939 年，伊西多·艾萨克·拉比通过试验高温蒸发后的物质发现了核磁共振现象，并因此于 1944 年获得了诺贝尔物理学奖。时至今日，核磁共振已经成为了医学、化学、生物学等多个学科不可或缺的研究手段。\n预备知识 在学习核磁共振的基本原理之前，应首先了解本节内容。\n原子核的自旋 组成任何原子核的所有核子都具有自旋的量子特性。原子核的自旋角动量的大小 $S$ 可以由自旋量子数 $s$ 表示：\n$$S = \\hbar \\sqrt{s(s+1)}$$\n如果某个原子核中的质子和中子的数量都是偶数，那么自旋量子数 $s=0$；如果某个原子核质量数为奇数，那么自旋量子数 $s$ 取半整数；如果某个原子核质量数为偶数，并且质子数为奇数，那么自旋量子数 $s$ 取整数。与沿 $z$ 轴或外加磁场方向，且与自旋分量相关的整数或半整数量子数被称为磁量子数 $m$。磁量子数 $m$ 可以以整数为步长在 $-s$ 到 $+s$ 内取值。因此，对于任何给定的原子核，总共有 $2s + 1$ 个自旋状态（磁量子数）。自旋角动量 $\\boldsymbol{S}$ 在 $z$ 方向的分量为：\n$$S_z = m\\hbar$$\n原子核的自旋磁矩 自旋角动量 $\\boldsymbol{S}$ 不为零的原子核具有相应的核自旋磁矩 $\\boldsymbol{\\mu}$，简称为核磁矩。核磁矩的表达式为：\n$$\\boldsymbol{\\mu} = \\frac{g\\mu_\\mathrm{N}}{\\hbar} \\boldsymbol{S} \\tag{1}$$ 其中，$g$ 为朗德因子，是一个无量纲的量，其数值取决于原子核的结构，它的值可能为正，也可能为负；$\\mu_\\mathrm{N}$ 为核磁子，在国际单位制下它的定义式为：\n$$\\mu_\\mathrm{N} = \\frac{e\\hbar}{2m_\\mathrm{p}}$$\n式中，$e$ 为元电荷，$m_\\mathrm{p}$ 为质子的静止质量。核自旋磁矩与自旋角动量的比值称为旋磁比 $\\gamma$，其表达式为：\n$$\\gamma = \\frac{g\\mu_\\mathrm{N}}{\\hbar}$$\n因此，式 (1) 可改写为：\n$$\\boldsymbol{\\mu} = \\gamma \\boldsymbol{S}$$\n核自旋磁矩 $\\boldsymbol{\\mu}$ 在 $z$ 方向的分量为：\n$$\\mu_z = \\gamma S_z = \\gamma m\\hbar \\tag{2}$$ 能级分裂 原子核共有 $2s + 1$ 个自旋状态，对应 $2s + 1$ 个磁量子数。在没有磁场的情况下，这些态是简并的，具有相同的能量。在外加磁场的作用下，由于核自旋磁矩和外加磁场之间的相互作用，这些态不再拥有相同的能量，发生能级分裂。在外磁场 $\\boldsymbol{B}_0$ 中，核自旋磁矩 $\\boldsymbol{\\mu}$ 的能量为：\n$$E=-\\boldsymbol{\\mu}\\cdot\\boldsymbol{B}_0 = -\\mu_x B_{0x} -\\mu_y B_{0y} -\\mu_z B_{0z}$$\n通常令外磁场 $\\boldsymbol{B}_0$ 平行于 $z$ 轴，上式可化简为：\n$$E = - \\mu_{z}B_{0}$$\n将式 (2) 代入上式，得：\n$$E = - \\gamma m \\hbar B_{0}$$\n相邻能级之间的能量差为：\n$$\\Delta E = \\gamma \\hbar B_{0}$$\n由此可见，外加磁场越大，相邻能级之间的能量差也越大。\n对自旋量子数为 $\\frac{1}{2}$ 的原子核，如 $^1\\mathrm{H}$ 核，具有两个自旋状态 $m = \\frac{1}{2}$ 和 $m = - \\frac{1}{2}$。如果旋磁比 $\\gamma \u0026gt; 0$，态 $m = - \\frac{1}{2}$ 的能量要大于态 $m = \\frac{1}{2}$ 的能量。\n核磁共振 将样品置于恒定的外磁场下，样品的原子核自旋产生的磁场会在外磁场的作用下重新排列，根据波尔兹曼的粒子数能级分布原理，大多数原子核自旋会处于低能级，即自旋方向顺着外加磁场的方向。此时，再施加额外的射频场（高频交变磁场），使得处于低能级的原子核自旋共振跃迁至高能级（即自旋方向逆着外加磁场的方向），再回到低能级并释放射频信号。这一过程会使外加射频场的能量发生变化，该变化的过程是可以检测的。这就是核磁共振的基本原理。\n拉莫尔进动 一个高速旋转的陀螺，当自转轴与重力方向不平行时，其自转轴会绕着重力方向缓慢旋转，这种现象被称为进动。同样的，将一个原子核置于恒定的外加磁场中，若原子核的自旋磁矩与外加磁场方向不同，则原子核磁矩会绕外磁场方向旋转发生进动，这一现象被称为拉莫尔进动。外加磁场 $\\boldsymbol{B}_0$ 对核自旋磁矩 $\\boldsymbol{\\mu}$ 施加了一个力矩 $\\boldsymbol{\\tau}$：\n$$\\boldsymbol{\\tau} = \\boldsymbol{\\mu} \\times \\boldsymbol{B}_0 = \\gamma \\boldsymbol{S} \\times \\boldsymbol{B}_0$$\n力矩的作用也会影响自旋角动量，即：\n$$\\boldsymbol{\\tau} = \\frac{\\mathrm{d}\\boldsymbol{S}}{\\mathrm{d}t}$$\n由上两式可得核自旋磁矩在外加磁场作用下的运动方程：\n$$\\frac{\\mathrm{d}\\boldsymbol{S}}{\\mathrm{d}t} = \\gamma \\boldsymbol{S} \\times \\boldsymbol{B}_0 \\stackrel{\\boldsymbol{\\mu} = \\gamma \\boldsymbol{S}}{\\Longrightarrow} \\frac{\\mathrm{d}\\boldsymbol{\\mu}}{\\mathrm{d}t} = \\gamma \\boldsymbol{\\mu} \\times \\boldsymbol{B}_0$$\n求解这个方程便可得到核自旋磁矩 $\\boldsymbol{\\mu}$（或自旋角动量 $\\boldsymbol{S}$）绕着外磁场 $\\boldsymbol{B}_0$ 的方向以一定角频率进动。该频率被称为拉莫尔频率 $\\omega$：\n$$\\omega_L = \\gamma B_0$$\n将角频率转换为频率，有：\n$$ \\nu_L = \\frac{\\omega_L}{2\\uppi} = \\frac{\\gamma B_0}{2\\uppi}$$\n拉莫尔频率由外加磁场的强度和原子核本身的性质决定。因此，对于某一特定原子，在一定强度的的外加磁场中，其原子核自旋进动的频率是固定不变的。\n共振跃迁 对原子核在$z$方向上施加恒定外磁场 $\\boldsymbol{B}_0$，再添加一个方向与 $\\boldsymbol{B}_0$ 垂直的射频场（高频交变磁场）$\\boldsymbol{B}_1$。当射频场的角频率 $\\omega$ 等于拉莫尔频率 $\\omega_L$ 时，射频场 $\\boldsymbol{B}_1$ 对进动中的核自旋磁矩 $\\boldsymbol{\\mu}$ 的作用相当于恒定磁场，使得核自旋磁矩 $\\boldsymbol{\\mu}$ 绕着射频场 $\\boldsymbol{B}_1$ 发生进动。此时，核自旋磁矩的能量状态发生改变，核自旋磁矩与射频场之间产生能量交换。当射频场的角频率 $\\omega$ 不等于拉莫尔频率 $\\omega_L$ 时，射频场 $\\boldsymbol{B}_1$ 对进动中的核自旋磁矩 $\\boldsymbol{\\mu}$ 的作用不再相当于恒定磁场，核自旋磁矩 $\\boldsymbol{\\mu}$ 无法绕着射频场 $\\boldsymbol{B}_1$ 发生进动，自旋磁矩的能量状态不发生改变，与射频场没有能量交换。根据磁偶极跃迁的选择定则 $\\Delta m = \\pm 1$，只有相邻能级间的跃迁才是允许的。根据玻尔频率定则，光子能量与相邻能级的能量差相等时，才会发生跃迁。在这里，当射频光子的能量等于相邻能级的能量差时，原子核发生共振跃迁。由此可知，核磁共振的条件为：\n$$\\Delta E = \\gamma \\hbar B_{0} = \\hbar \\omega \\Rightarrow \\omega = \\gamma B_{0} = \\omega_L$$\n即射频场角频率等于拉莫尔频率时，才能引起共振跃迁。\n共振信号的探测 在这里介绍两种能够使外加射频场能量状态变化的方法。需要注意的是，两种探测方法均为是连续法。连续法的频率分辨率低，而且不能测量驰豫时间，所以这种方法不太常用。另一种探测方法是脉冲法，这种方法分辨率高，可以测量驰豫时间，因此应用广泛。\n扫频法 固定磁场 $\\boldsymbol{B}_0$，连续改变射频场 $\\boldsymbol{B}_1$ 的频率。当射频场 $\\boldsymbol{B}_1$ 的角频率 $\\omega = \\omega_L = \\gamma B_{0}$ 时，发生共振跃迁，出现共振峰。\n扫场法 固定射频场 $\\boldsymbol{B}_1$ 的频率，在共振磁场强度附近连续改变磁场 $\\boldsymbol{B}_0$ 的场强（即连续改变相邻能级间的能量差），使扫磁场 $\\boldsymbol{B}_0$ 过共振点。这种方法需要在平行于静磁场的方向上叠加一个较弱的交变磁场，该磁场被称为扫场。在连续改变磁场 $\\boldsymbol{B}_0$ 的场强时，应缓慢地通过共振点。在这里，缓慢是相对于原子核的驰豫时间而言的。\n图 2 给出了扫场频率为 50 Hz 时，外磁场随时间的变化及相应的共振信号的关系。从图中可知道，磁场 $\\boldsymbol{B}_0$ 的场强变化范围是 $B_0 = B \\pm B^\\prime $，相邻能级间的能量差也在相应地发生变化。改变射频频率 $\\nu$，使 $\\nu$ 对应的磁场强度 $B_1$ 在磁场 $\\boldsymbol{B}_0$ 的场强变化范围内，就能发生共振。这时的共振信号的间隔可能是不等的，如果继续调整频率 $\\nu$，使得共振信号等间距排列，此时扫场不参与共振，便可确定固定磁场 $\\boldsymbol{B}_0$ 的场强。\n对水来说，50 Hz 的扫场频率是一个变化较快的磁场，观察到的不再是单纯的吸收信号，而会产生拖尾现象。磁场越均匀，尾波中振荡次数越多，拖尾现象越显著。相对而言，纯水的驰豫时间太长（约为 2 s），原子核都被抽运到高能级并达到饱和，以至再次扫过共振点时，低能级不再有大量的原子核可以被抽运。因此，如果水的样品非常纯，共振信号会很小，甚至看不到共振信号，能量的变化便难以检测。此时，可以在水中掺入一些离子，用来减少样品的驰豫时间，以便得到较强的共振信号。\n参考文献 本文所引用的内容未能在文中逐一标注，敬请谅解。本文内容参考了以下文献：\n[1] 吴先求,\u0026#32;熊予莹.\u0026#32; 近代物理实验教程[M].\u0026#32;2\u0026#32;版.\u0026#32;北京:\u0026#32;科学出版社,\u0026#32;2009:\u0026#32;270-281. [2] 杨福家.\u0026#32; 原子物理学[M].\u0026#32;5\u0026#32;版.\u0026#32;北京:\u0026#32;高等教育出版社,\u0026#32;2019:\u0026#32;284-287. ","date":"2022-08-14T00:00:00Z","image":"https://fissionneutron.com/post/cb856708/img/cover.png","permalink":"https://fissionneutron.com/post/cb856708/","title":"核磁共振的基本原理"}]